<!DOCTYPE html>
<html>
<head>
  <title>Basic Map Test</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" />
  <style>
    body { margin: 0; padding: 20px; }
    #map { width: 100%; height: 600px; border: 2px solid #000; }
    .info { background: #f0f0f0; padding: 10px; margin: 10px 0; }
  </style>
</head>
<body>
  <h1>üó∫Ô∏è Basic Altis Map Test</h1>
  
  <div class="info">
    <strong>Testing:</strong> Direct map creation with Altis tiles
  </div>
  
  <div id="map"></div>
  
  <div class="info">
    <strong>Console Output:</strong> Check browser console for detailed logs
  </div>

  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"></script>
  <script>
    console.log('üöÄ Starting basic map test...');
    
    // Simple CRS for Altis
    const AltisCRS = L.extend({}, L.CRS.Simple, {
      transformation: new L.Transformation(1/256, 0, -1/256, 30720)
    });
    
    console.log('‚úÖ CRS created');
    
    // Create map
    const map = L.map('map', {
      crs: AltisCRS,
      minZoom: 0,
      maxZoom: 6,
      zoomControl: true
    });
    
    console.log('‚úÖ Map created');
    
    // Create tile layer
    const tileLayer = L.tileLayer('altis/{z}/{x}/{y}.png', {
      attribution: 'Altis Map Test',
      tileSize: 256,
      minZoom: 0,
      maxZoom: 6,
      noWrap: true
    });
    
    console.log('‚úÖ Tile layer created');
    
    // Add debugging
    tileLayer.on('tileloadstart', function(e) {
      console.log('üîÑ Loading tile:', e.url);
    });
    
    tileLayer.on('tileload', function(e) {
      console.log('‚úÖ Tile loaded:', e.url);
    });
    
    tileLayer.on('tileerror', function(e) {
      console.error('‚ùå Tile error:', e.url);
      console.error('   Coords:', e.coords);
    });
    
    // Add to map
    tileLayer.addTo(map);
    console.log('‚úÖ Tile layer added to map');
    
    // Set view
    map.setView([15360, 15360], 2);
    console.log('‚úÖ Map view set to [15360, 15360] zoom 2');
    
    // Test tile URLs manually
    setTimeout(() => {
      console.log('üß™ Testing tile URLs...');
      
      const testUrls = [
        'altis/0/0/0.png',
        'altis/2/0/0.png',
        'altis/2/1/1.png'
      ];
      
      testUrls.forEach(url => {
        const img = new Image();
        img.onload = () => console.log('‚úÖ Direct test OK:', url);
        img.onerror = () => console.error('‚ùå Direct test FAIL:', url);
        img.src = url;
      });
    }, 2000);
  </script>
</body>
</html>